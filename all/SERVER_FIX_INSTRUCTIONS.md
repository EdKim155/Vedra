# üîß –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Æ –°–ï–†–í–ï–†–ê CARS BOT

**–î–∞—Ç–∞**: 27 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

---

## üìã –ö–†–ê–¢–ö–û–ï –†–ï–ó–Æ–ú–ï –ü–†–û–ë–õ–ï–ú

### üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã Telegram –±–æ—Ç–∞** ‚Üí –±–æ—Ç –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
2. **Celery Worker –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è** ‚Üí –∑–∞–¥–∞—á–∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
3. **–ú–æ–Ω–∏—Ç–æ—Ä —á–∞—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** ‚Üí –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### ‚úÖ –†–µ—à–µ–Ω–∏–µ:

- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Compose (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ Supervisor** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Supervisor
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å watchdog –≤ –º–æ–Ω–∏—Ç–æ—Ä–µ (—É–≤–µ–ª–∏—á–∏—Ç—å timeout)

---

## üöÄ –ë–´–°–¢–†–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï (5 –º–∏–Ω—É—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

**–ù–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:**

```bash
cd "/Users/edgark/CARS BOT"
./deploy_fix_to_server.sh
```

–ó–∞—Ç–µ–º **–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
ssh carsbot
cd /root/cars-bot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Supervisor (—Ç—Ä–µ–±—É–µ—Ç root)
sudo ./install_supervisor_config.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
./fix_server.sh

# –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -f logs/*.log
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
ssh carsbot
cd /root/cars-bot

# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë
docker-compose down 2>/dev/null || true
supervisorctl stop carsbot:* 2>/dev/null || true
pkill -f "python -m cars_bot"
pkill -f "celery.*cars_bot"

# 2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å—ë –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
ps aux | grep "python -m cars_bot" | grep -v grep
ps aux | grep "celery" | grep -v grep
# (–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Supervisor
sudo cp supervisor_config.conf /etc/supervisor/conf.d/cars-bot.conf
sudo supervisorctl reread
sudo supervisorctl update

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
supervisorctl start carsbot:*

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
supervisorctl status carsbot:*

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
tail -f logs/bot_output.log          # –î–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –±–µ–∑ TelegramConflictError
tail -f logs/celery_worker_output.log  # –î–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –∑–∞–ø—É—â–µ–Ω–Ω—ã–º, –Ω–µ –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è
tail -f logs/monitor_output.log       # –î–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ
```

---

## üîç –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–ø—É—â–µ–Ω—ã –¢–û–õ–¨–ö–û Supervisor –ø—Ä–æ—Ü–µ—Å—Å—ã

```bash
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å 5 RUNNING –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
supervisorctl status carsbot:*

# –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–æ–≤–Ω–æ –ø–æ –æ–¥–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
ps aux | grep "python -m cars_bot.bot" | grep -v grep        # 1 –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep "python -m cars_bot.monitor" | grep -v grep    # 1 –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep "celery.*worker" | grep -v grep                # 1 –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep "celery.*beat" | grep -v grep                  # 1 –ø—Ä–æ—Ü–µ—Å—Å
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

```bash
# Bot - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å TelegramConflictError
grep "TelegramConflictError" logs/bot_output.log
# (–ø—É—Å—Ç–æ - —Ö–æ—Ä–æ—à–æ)

# Celery Worker - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "Warm shutdown"
grep "Warm shutdown" logs/celery_worker_output.log | tail -1
# (–µ—Å–ª–∏ –µ—Å—Ç—å - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —ç—Ç–æ —Å—Ç–∞—Ä–∞—è –∑–∞–ø–∏—Å—å, –∞ –Ω–µ –Ω–æ–≤–∞—è)

# Monitor - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∞—Å—Ç—ã—Ö –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤
tail -20 logs/monitor_output.log
# (–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "Auto-restarted" –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
```

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**Telegram Bot:**
```
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å /start –±–æ—Ç—É @Vedrro_bot
2. –î–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å /subscription
4. –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–ø–∏—Å–∫–µ
```

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
```
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ—Å—Ç –≤ –æ–¥–∏–Ω –∏–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏–º—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ monitor_output.log - –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è "New message from..."
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ celery_worker_output.log - –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –∑–∞–¥–∞—á–∞ AI processing
```

**–ü—É–±–ª–∏–∫–∞—Ü–∏—è:**
```
1. –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ AI, –ø–æ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –æ—á–µ—Ä–µ–¥–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
2. –ß–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –¥–æ–ª–∂–µ–Ω –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å—Å—è –≤ –∫–∞–Ω–∞–ª–µ -1002979557335
```

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì –í –†–ï–ê–õ–¨–ù–û–ú –í–†–ï–ú–ï–ù–ò

### –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ª–æ–≥–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:

```bash
# –í –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
ssh carsbot
cd /root/cars-bot
tail -f logs/*.log
```

### –ò–ª–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö:

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: Bot
ssh carsbot "tail -f /root/cars-bot/logs/bot_output.log"

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: Monitor
ssh carsbot "tail -f /root/cars-bot/logs/monitor_output.log"

# –¢–µ—Ä–º–∏–Ω–∞–ª 3: Celery Worker
ssh carsbot "tail -f /root/cars-bot/logs/celery_worker_output.log"

# –¢–µ—Ä–º–∏–Ω–∞–ª 4: Celery Beat
ssh carsbot "tail -f /root/cars-bot/logs/celery_beat_output.log"
```

---

## üÜò –ï–°–õ–ò –ß–¢–û-–¢–û –ü–û–®–õ–û –ù–ï –¢–ê–ö

### –ü—Ä–æ–±–ª–µ–º–∞: Bot –≤—Å—ë –µ—â—ë –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç TelegramConflictError

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –±–æ—Ç–∞
ps aux | grep "cars_bot.bot" | grep -v grep

# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –û–î–ò–ù –ø—Ä–æ—Ü–µ—Å—Å
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–±–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –±–æ—Ç–∞
pkill -f "cars_bot.bot.main"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
supervisorctl start carsbot:cars-bot
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: Celery Worker –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ª–æ–≥–∞
tail -50 logs/celery_worker_output.log

# –ò—Å–∫–∞—Ç—å "Warm shutdown" –∏–ª–∏ –æ—à–∏–±–∫–∏
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏
2. Redis –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
3. –û—à–∏–±–∫–∞ –≤ –∑–∞–¥–∞—á–µ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redis
redis-cli ping

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–º—è—Ç—å
free -h

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å worker
supervisorctl restart carsbot:cars-celery-worker

# –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ, –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –±–æ–ª–µ–µ –Ω–∏–∑–∫–∏–º concurrency
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å /etc/supervisor/conf.d/cars-bot.conf
# –ò–∑–º–µ–Ω–∏—Ç—å --concurrency=4 –Ω–∞ --concurrency=2
supervisorctl reread && supervisorctl update && supervisorctl restart carsbot:cars-celery-worker
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–æ–Ω–∏—Ç–æ—Ä –≤—Å—ë –µ—â—ë —á–∞—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª monitor_restarts.log
cat logs/monitor_restarts.log | tail -20

# –ï—Å–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ –≤—Å—ë –µ—â—ë –∫–∞–∂–¥—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç - watchdog –≤—Å—ë –µ—â—ë –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –º–æ–Ω–∏—Ç–æ—Ä–∞ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç
grep "max_idle_time = 300" src/cars_bot/monitor/monitor.py

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: self.max_idle_time = 300

# –ï—Å–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 60 - –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
scp -r src/cars_bot/monitor/ carsbot:/root/cars-bot/src/cars_bot/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
supervisorctl restart carsbot:cars-monitor
```

---

## üìÅ –°–û–ó–î–ê–ù–ù–´–ï –§–ê–ô–õ–´

–î–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:

1. **`DIAGNOSIS_AND_FIX.md`** - –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –∏ —Ä–µ—à–µ–Ω–∏—è—Ö
2. **`supervisor_config.conf`** - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Supervisor
3. **`fix_server.sh`** - –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
4. **`install_supervisor_config.sh`** - –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
5. **`deploy_fix_to_server.sh`** - –°–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
6. **`SERVER_FIX_INSTRUCTIONS.md`** - –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

–ò –æ–±–Ω–æ–≤–ª–µ–Ω –∫–æ–¥:
- **`src/cars_bot/monitor/monitor.py`** - –£–≤–µ–ª–∏—á–µ–Ω `max_idle_time` —Å 60 –¥–æ 300 —Å–µ–∫—É–Ω–¥

---

## ‚úÖ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- ‚úÖ **Telegram Bot** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ **Celery Worker** —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ, –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
- ‚úÖ **Celery Beat** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
- ‚úÖ **Monitor** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–∞—Å—Ç–æ
- ‚úÖ **Webhook** –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç YooKassa
- ‚úÖ **–¢–æ–ª—å–∫–æ –û–î–ò–ù —ç–∫–∑–µ–º–ø–ª—è—Ä** –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∑–∞–ø—É—â–µ–Ω
- ‚úÖ **–ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤** –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
- ‚úÖ **–õ–æ–≥–∏ —á–∏—Å—Ç—ã–µ**, –±–µ–∑ –æ—à–∏–±–æ–∫

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å:

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á–µ—Ç:
   ```bash
   /root/cars-bot/diagnose.sh > diagnostic_report.txt
   ```

2. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –ª–æ–≥–∏:
   ```bash
   cd /root/cars-bot
   tar -czf logs_backup.tar.gz logs/
   ```

3. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å:
   - `diagnostic_report.txt`
   - `logs_backup.tar.gz`
   - –û–ø–∏—Å–∞–Ω–∏–µ —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~5-10 –º–∏–Ω—É—Ç  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è  
**–¢—Ä–µ–±—É–µ—Ç—Å—è**: SSH –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É, –ø—Ä–∞–≤–∞ sudo

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ó–∞–ø—É—Å—Ç–∏—Ç—å `./deploy_fix_to_server.sh`

