# Quick Start Guide - Cars Bot

–ë—ã—Å—Ç—Ä–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø—É—Å–∫—É Cars Bot –∑–∞ 15 –º–∏–Ω—É—Ç.

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- ‚úÖ Python 3.11+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ PostgreSQL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–∏–ª–∏ Docker)
- ‚úÖ Redis —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–∏–ª–∏ Docker)
- ‚úÖ Git —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

## –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/your-org/cars-bot.git
cd cars-bot
```

## –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
nano .env  # –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```env
# Database
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/carsbot

# Telegram Bot
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
NEWS_CHANNEL_ID=-1001234567890

# Telegram User Session
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=0123456789abcdef0123456789abcdef

# Google Sheets
GOOGLE_SHEETS_ID=1AbCdEfGhIjKlMnOpQrStUvWxYz
GOOGLE_CREDENTIALS_FILE=secrets/service_account.json

# OpenAI
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

## –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ Telegram Credentials

### Bot Token

1. –û—Ç–∫—Ä—ã—Ç—å Telegram
2. –ù–∞–π—Ç–∏ **@BotFather**
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/newbot`
4. –°–ª–µ–¥–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
5. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –≤ `BOT_TOKEN`

### API Credentials

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://my.telegram.org/apps
2. –í–æ–π—Ç–∏ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞
3. –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å:
   - `api_id` ‚Üí `TELEGRAM_API_ID`
   - `api_hash` ‚Üí `TELEGRAM_API_HASH`

### News Channel

1. –°–æ–∑–¥–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–∞–Ω–∞–ª –≤ Telegram
2. –î–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. –ü–æ–ª—É—á–∏—Ç—å ID –∫–∞–Ω–∞–ª–∞ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @userinfobot)
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ `NEWS_CHANNEL_ID` (—Ñ–æ—Ä–º–∞—Ç: `-100xxxxxxxxxx`)

## –®–∞–≥ 4: Google Sheets Setup

### Service Account

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://console.cloud.google.com
2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –í–∫–ª—é—á–∏—Ç—å **Google Sheets API**
4. –°–æ–∑–¥–∞—Ç—å **Service Account**
5. –°–∫–∞—á–∞—Ç—å JSON –∫–ª—é—á
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å:
```bash
mkdir -p secrets
cp ~/Downloads/service-account-*.json secrets/service_account.json
```

### –°–æ–∑–¥–∞—Ç—å –¢–∞–±–ª–∏—Ü—É

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É
python scripts/create_sheets_template.py

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ID –∏–∑ –≤—ã–≤–æ–¥–∞ –≤ GOOGLE_SHEETS_ID
```

## –®–∞–≥ 5: Setup Database

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker –¥–ª—è PostgreSQL
docker run -d \
  --name cars-bot-postgres \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=password \
  -e POSTGRES_DB=carsbot \
  -p 5432:5432 \
  postgres:16

# –ï—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω PostgreSQL
createdb carsbot

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head
# –∏–ª–∏
make migrate
```

## –®–∞–≥ 6: –°–æ–∑–¥–∞–Ω–∏–µ Telegram Session

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
python scripts/create_session.py

# –°–ª–µ–¥–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
# 1. –í–≤–µ—Å—Ç–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: +1234567890
# 2. –í–≤–µ—Å—Ç–∏ –∫–æ–¥ –∏–∑ Telegram
# 3. –í–≤–µ—Å—Ç–∏ 2FA –ø–∞—Ä–æ–ª—å (–µ—Å–ª–∏ –µ—Å—Ç—å)

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ session —Ä–∞–±–æ—Ç–∞–µ—Ç
python scripts/create_session.py test
```

**–í–∞–∂–Ω–æ:** –ü–æ–¥–ø–∏—à–∏—Ç–µ —ç—Ç–æ—Ç –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ –≤—Å–µ –∫–∞–Ω–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å!

## –®–∞–≥ 7: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ö–∞–Ω–∞–ª–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—É—é Google Sheets
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –ª–∏—Å—Ç **"–ö–∞–Ω–∞–ª—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"**
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã:

| Username –∫–∞–Ω–∞–ª–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ê–∫—Ç–∏–≤–µ–Ω | –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ |
|----------------|----------|---------|----------------|
| @test_channel  | Test     | TRUE    | —Ç–µ—Å—Ç,test      |

## –®–∞–≥ 8: –ó–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç A: –õ–æ–∫–∞–ª—å–Ω–æ

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
python -m cars_bot.monitor.monitor

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ë–æ—Ç
python -m cars_bot.bot
```

### –í–∞—Ä–∏–∞–Ω—Ç B: Docker

```bash
# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs -f
```

### –í–∞—Ä–∏–∞–Ω—Ç C: Makefile

```bash
# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
make quickstart

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
make run-monitor

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
make run-bot
```

## –®–∞–≥ 9: –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
tail -f logs/monitor_$(date +%Y-%m-%d).log

# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
# ‚úÖ Connected as: YourName (@username)
# ‚úÖ Loaded 1 channels
# üì® New message from TestChannel: ID=123
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
4. –î–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Google Sheets

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É
2. –õ–∏—Å—Ç "–õ–æ–≥–∏" –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–æ–±—ã—Ç–∏—è
3. –õ–∏—Å—Ç "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞" –Ω–∞—á–Ω–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è

## –ì–æ—Ç–æ–≤–æ! üéâ

–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç. –¢–µ–ø–µ—Ä—å:

1. **–ü–æ–¥–ø–∏—à–∏—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** –Ω–∞ –Ω—É–∂–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
2. **–î–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ Google Sheets** (–ª–∏—Å—Ç "–ö–∞–Ω–∞–ª—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞")
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã** (–ª–∏—Å—Ç "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤")
4. **–ù–∞–±–ª—é–¥–∞–π—Ç–µ** –∑–∞ –ª–æ–≥–∞–º–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π

## –ß—Ç–æ –î–∞–ª—å—à–µ?

- üìñ [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](../README.md)
- üîß [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞](MONITORING_SETUP.md)
- üìä [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Google Sheets](GOOGLE_SHEETS_STRUCTURE.md)
- üêõ [Troubleshooting](../README.md#troubleshooting)

## –ü–æ–ª–µ–∑–Ω—ã–µ –ö–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
make help

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ session
make test-session

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make logs              # –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
make logs-bot          # –±–æ—Ç

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down    # Docker
Ctrl+C                 # –õ–æ–∫–∞–ª—å–Ω–æ

# –û—á–∏—Å—Ç–∫–∞
make clean            # –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
make clean-logs       # –ª–æ–≥–∏
```

## –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¢–µ—Å—Ç–∞

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É:

```env
# –¢–æ–ª—å–∫–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/carsbot
BOT_TOKEN=your_bot_token
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=your_api_hash
GOOGLE_SHEETS_ID=your_sheets_id
OPENAI_API_KEY=your_openai_key
```

–≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–∞–∑–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~15 –º–∏–Ω—É—Ç  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2024-10-23


